<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Luc64 Classic Converter</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
  textarea, input, select { width: 100%; margin: 10px 0; padding: 10px; font-size: 16px; }
  #output { background: #fff; padding: 10px; border: 1px solid #ccc; min-height: 50px; white-space: pre-wrap; }
</style>
</head>
<body>

<h1>Luc64 Converter</h1>

<label for="mode">Select Mode:</label>
<select id="mode">
  <option value="base64">Base64</option>
  <option value="binary">Hex / Binary</option>
</select>

<label for="input">Input:</label>
<textarea id="input" rows="4" placeholder="Paste your text or hex codes here"></textarea>

<button onclick="convert()">Convert</button>

<h2>Output:</h2>
<div id="output"></div>

<h2>ASCII List:</h2>
<div id="asciilist"></div>

<script>
function convert() {
  const mode = document.getElementById('mode').value;
  const input = document.getElementById('input').value.trim();
  let output = '';
  let asciiList = '';

  if(mode === 'base64') {
    try {
      output = atob(input);
      asciiList = Array.from(output).map(c => c.charCodeAt(0)).join(' ');
    } catch(e) {
      output = 'Invalid Base64!';
      asciiList = '';
    }
  } else if(mode === 'binary') {
    // Split input by spaces or commas
    const parts = input.split(/[\s,]+/);
    let chars = [];
    for(let p of parts){
      if(p.length === 0) continue;
      let code;
      if(p.startsWith("0x") || /^[0-9A-Fa-f]+$/.test(p)) { // hex input
        code = parseInt(p, 16);
      } else { // assume decimal
        code = parseInt(p, 10);
      }
      if(!isNaN(code)) chars.push(String.fromCharCode(code));
    }
    output = chars.join('');
    asciiList = chars.map(c => c.charCodeAt(0)).join(' ');
  }

  document.getElementById('output').textContent = output;
  document.getElementById('asciilist').textContent = asciiList;
}
</script>

</body>
</html>
